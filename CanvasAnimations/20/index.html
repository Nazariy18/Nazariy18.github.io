<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Intro</title>

	<script src="js/anime.min.js"></script>
  <link href="css/styles.css" rel="stylesheet">
</head>
<body>

<div class="vba-area">

    <canvas></canvas>

</div>

<script>
		var mainOptions = {
				delay: /* delay */5000/* /delay */,
        isPaused: false,
        isRendering: false,
        timer: null
    };

    var timeline = anime.timeline({
        loop: false,
        direction: 'alternate',
        autoplay: true
    });	

    var canvasEl = document.querySelector('canvas');
    var ctx = canvasEl.getContext('2d');

    ctx.font = "30px Arial";
    var textLb = /* title */"Top Rated Freelancer"/* /title */;
    var widthText = Math.ceil(ctx.measureText(textLb).width);

    var colorF = /* background_color */'#000'/* /background_color */;

//-------------------------function
	function setCanvasSize() {
        var rectObject = canvasEl.parentNode.getBoundingClientRect();
        canvasEl.width = rectObject.width;
        canvasEl.height = rectObject.height;
        canvasEl.style.width = rectObject.width + 'px';
        canvasEl.style.height = rectObject.height + 'px';
    }
  function createCircles() {
     var p = {};
      p.x1 = -50;
      p.y1 = 800;
      p.scaleY = 3;
      p.sCaleX1 = 3;
      p.angle = 0;
      p.sCaleX2 = 3;
      p.sCaleX3 = 3;
      p.sCaleX4 = 3;
      p.x2 = -50;
      p.y2 = 370;
      p.x3 = 1400;
      p.y3 = 800;
      p.x4 = 1400;
      p.y4 = 10;
      p.lineWidth = 1;
      p.radius = 8;
      p.color = colorF;
      p.xMove = 0;
      p.yMove = 0;
      p.draw = function() {
        ctx.save();
        ctx.translate(p.xMove, p.yMove);
        //--------------------------1
        ctx.save();
        ctx.translate(p.x1, p.y1);
        ctx.rotate(p.angle*Math.PI/180);
        ctx.scale(p.sCaleX1, p.scaleY);
        ctx.translate((-1)*p.x1, (-1)*p.y1);
        ctx.beginPath();
        ctx.arc(p.x1, p.y1, p.radius, 0, 2 * Math.PI, false);
        ctx.lineWidth = p.lineWidth;
        ctx.strokeStyle = p.color;
        ctx.stroke();
        ctx.restore();
        //--------------------------2
        ctx.save();
        ctx.translate(p.x2, p.y2);
        ctx.rotate(p.angle*Math.PI/180);
        ctx.scale(p.sCaleX2, p.scaleY);
        ctx.translate((-1)*p.x2, (-1)*p.y2);
        ctx.beginPath();
        ctx.arc(p.x2, p.y2, p.radius, 0, 2 * Math.PI, false);
        ctx.lineWidth = p.lineWidth;
        ctx.strokeStyle = p.color;
        ctx.stroke();
        ctx.restore();
        //------------------------3
        ctx.save();
        ctx.translate(p.x3, p.y3);
        ctx.rotate(p.angle*Math.PI/180);
        ctx.scale(p.sCaleX3, p.scaleY);
        ctx.translate((-1)*p.x3, (-1)*p.y3);
        ctx.beginPath();
        ctx.arc(p.x3, p.y3, p.radius, 0, 2 * Math.PI, false);
        ctx.lineWidth = p.lineWidth;
        ctx.strokeStyle = p.color;
        ctx.stroke();
        ctx.restore();

        ctx.save();
        ctx.translate(p.x4, p.y4);
        ctx.rotate(p.angle*Math.PI/180);
        ctx.scale(p.sCaleX4, p.scaleY);
        ctx.translate((-1)*p.x4, (-1)*p.y4);
        ctx.beginPath();
        ctx.arc(p.x4, p.y4, p.radius, 0, 2 * Math.PI, false);
        ctx.fillStyle = p.color;
        ctx.fill();
        ctx.restore();
        ctx.restore();
      };
      return p;
    }
  function createRects() {
      var p = {};
      p.x = 640;
      p.y = 370;
      p.xMove1 = 30;
      p.yMove1 = 550;
      p.xMove2 = 800;
      p.yMove2 = -500;
      p.xMove3 = -800;
      p.yMove3 = -500;
      p.xMove4 = -800;
      p.yMove4 = 0;
      p.xMove5 = 800;
      p.yMove5 = 500;
      p.angle = 0;
      p.lineWidth = 1;
      p.width = 16;
      p.height = 16;
      p.color = colorF;
      p.scaleY = 3;
      p.sCaleX1 = 3;
      p.angle = 0;
      p.sCaleX2 = 3;
      p.sCaleX3 = 3;
      p.sCaleX4 = 3;
      p.sCaleX5 = 3;

      p.xMove = 0;
      p.yMove = 0;
      p.draw = function() {
        //-------------------1
        ctx.save();
        ctx.translate(p.xMove, p.yMove);
        ctx.save()
        ctx.translate(p.xMove1, p.yMove1);
        ctx.translate(p.x, p.y);
        ctx.rotate((p.angle - 300)*Math.PI/180);
        ctx.scale(p.sCaleX1, p.scaleY);
        ctx.translate((-1)*p.x, (-1)*p.y);
        ctx.beginPath();
        ctx.rect(632, 362, p.width, p.height);
        ctx.lineWidth = p.lineWidth;
        ctx.strokeStyle = p.color;
        ctx.stroke();
        ctx.restore();
        //--------------------2
        ctx.save()
        ctx.translate(p.xMove2, p.yMove2);
        ctx.translate(p.x, p.y);
        ctx.rotate((p.angle + 400)*Math.PI/180);
        ctx.scale(p.sCaleX2, p.scaleY);
        ctx.translate((-1)*p.x, (-1)*p.y);
        ctx.beginPath();
        ctx.rect(632, 362, p.width, p.height);
        ctx.lineWidth = p.lineWidth;
        ctx.strokeStyle = p.color;
        ctx.stroke();
        ctx.restore();
        //-------------------------3
        ctx.save()
        ctx.translate(p.xMove3, p.yMove3);
        ctx.translate(p.x, p.y);
        ctx.rotate((p.angle - 30)*Math.PI/180);
        ctx.scale(p.sCaleX3, p.scaleY);
        ctx.translate((-1)*p.x, (-1)*p.y);
        ctx.beginPath();
        ctx.rect(632, 362, p.width, p.height);
        ctx.fillStyle = p.color;
        ctx.fill();
        ctx.restore();
         //-------------------------4
        ctx.save()
        ctx.translate(p.xMove4, p.yMove4);
        ctx.translate(p.x, p.y);
        ctx.rotate((p.angle + 100)*Math.PI/180);
        ctx.scale(p.sCaleX4, p.scaleY);
        ctx.translate((-1)*p.x, (-1)*p.y);
        ctx.beginPath();
        ctx.rect(632, 362, p.width, p.height);
        ctx.fillStyle = p.color;
        ctx.fill();
        ctx.restore();
         //-------------------------5
        ctx.save()
        ctx.translate(p.xMove5, p.yMove5);
        ctx.translate(p.x, p.y);
        ctx.rotate(p.angle*Math.PI/180);
        ctx.scale(p.sCaleX5, p.scaleY);
        ctx.translate((-1)*p.x, (-1)*p.y);
        ctx.beginPath();
        ctx.rect(632, 362, p.width, p.height);
        ctx.fillStyle = p.color;
        ctx.fill();
        ctx.restore();
        ctx.restore();
      };
      return p;
    }
  function createTriangles() {
     var p = {};
      p.x = 640;
      p.y = 370;
      p.angle = 0;
      p.xMove1 = -800;
      p.yMove1 = -500;
      p.xMove2 = 800;
      p.yMove2 = 300;
      p.xMove3 = 800;
      p.yMove3 = 70;
      p.xMove4 = -800;
      p.yMove4 = 400;
      p.lineWidth = 1;
      p.color = colorF;
      p.scaleY = 3;
      p.sCaleX1 = 3;
      p.angle = 0;
      p.sCaleX2 = 3;
      p.sCaleX3 = 3;
      p.sCaleX4 = 3;

      p.xMove = 0;
      p.yMove = 0;
      p.draw = function() {
        //------------1
        ctx.save();
        ctx.translate(p.xMove, p.yMove);
        ctx.save();
        ctx.translate(p.xMove1, p.yMove1);
        ctx.translate(p.x, p.y);
        ctx.rotate((p.angle - 300)*Math.PI/180);
        ctx.scale(p.sCaleX1, p.scaleY);
        ctx.translate((-1)*p.x, (-1)*p.y);
        ctx.beginPath();
        ctx.moveTo(p.x, p.y - 10);
        ctx.lineTo(p.x + 10, p.y + 8);
        ctx.lineTo(p.x - 10, p.y + 8);
        ctx.closePath();
        ctx.lineWidth = p.lineWidth;
        ctx.strokeStyle = p.color;
        ctx.stroke();
        ctx.restore();
        //---------------2
        ctx.save();
        ctx.translate(p.xMove2, p.yMove2);
        ctx.translate(p.x, p.y);
        ctx.rotate((p.angle + 300)*Math.PI/180);
        ctx.scale(p.sCaleX2, p.scaleY);
        ctx.translate((-1)*p.x, (-1)*p.y);
        ctx.beginPath();
        ctx.moveTo(p.x, p.y -10);
        ctx.lineTo(p.x + 10, p.y + 8);
        ctx.lineTo(p.x - 10, p.y + 8);
        ctx.closePath();
        ctx.lineWidth = p.lineWidth;
        ctx.strokeStyle = p.color;
        ctx.stroke();
        ctx.restore();
        //----------------3
        ctx.save();
        ctx.translate(p.xMove3, p.yMove3);
        ctx.translate(p.x, p.y);
        ctx.rotate((p.angle - 100)*Math.PI/180);
        ctx.scale(p.sCaleX3, p.scaleY);
        ctx.translate((-1)*p.x, (-1)*p.y);
        ctx.beginPath();
        ctx.moveTo(p.x, p.y -10);
        ctx.lineTo(p.x + 10, p.y + 8);
        ctx.lineTo(p.x - 10, p.y + 8);
        ctx.closePath();
        ctx.fillStyle = p.color;
        ctx.fill();
        ctx.restore();
        //------------------4
        ctx.save();
        ctx.translate(p.xMove4, p.yMove4);
        ctx.translate(p.x, p.y);
        ctx.rotate(p.angle*Math.PI/180);
        ctx.scale(p.sCaleX4, p.scaleY);
        ctx.translate((-1)*p.x, (-1)*p.y);
        ctx.beginPath();
        ctx.moveTo(p.x, p.y -10);
        ctx.lineTo(p.x + 10, p.y + 8);
        ctx.lineTo(p.x - 10, p.y + 8);
        ctx.closePath();
        ctx.fillStyle = p.color;
        ctx.fill();
        ctx.restore();
        ctx.restore();
      };
      return p;
    }
  function createImage() {
        var p = {};
          p.x = 640;
          p.y = 350;   
          p.scale = 0; 
          p.angle = 0;
          var img = new Image;
          p.draw = function() {
            ctx.save();
            ctx.beginPath();
            ctx.translate(p.x, p.y);
            ctx.scale(p.scale, p.scale);
            ctx.rotate(p.angle*Math.PI/180);
            ctx.translate((-1)*p.x , (-1)*p.y);
            ctx.drawImage(img, p.x - (p.width / 2), p.y - (p.height / 2), p.width, p.height);
            var widthImg = parseInt(img.width);
            var heightImg = parseInt(img.height);
            if(widthImg > heightImg)
            {p.height = (250 / widthImg) * heightImg ; p.width = 250;}
            else {p.width = (250 / heightImg) * widthImg; p.height = 250;}
            ctx.restore();
          };
          img.src = /* file */"logo.png"/* /file */;
          return p;
    }
  function createText() {
      var p = {};
      p.x = 640;
      p.y1 = 850; 
      p.y2 = 850; 
      p.y3 = 850; 
      p.width = widthText / 3;
      p.xMask1 = 635 - widthText / 2;
      p.xMask2 = 639 - widthText / 2 + p.width;
      p.xMask3 = 639 - widthText / 2 + 2 * p.width;
      p.color = /* title_color */'#000'/* /title_color */;
      p.draw = function() {
        ctx.save();
        ctx.beginPath();
        ctx.rect(p.xMask1, 0, p.width + 5, 800);
        ctx.clip();
        ctx.font = "30px Arial";
        ctx.textAlign = "center";
        ctx.fillStyle = p.color;
        ctx.fillText(textLb, p.x, p.y1);
        ctx.restore();
        //----------------------2
        ctx.save();
        ctx.beginPath();
        ctx.rect(p.xMask2, 0, p.width + 1, 800);
        ctx.clip();
        ctx.font = "30px Arial";
        ctx.textAlign = "center";
        ctx.fillStyle = p.color;
        ctx.fillText(textLb, p.x, p.y2);
        ctx.restore();
        //-------------------3
        ctx.save();
        ctx.beginPath();
        ctx.rect(p.xMask3, 0, p.width + 6, 800);
        ctx.clip();
        ctx.font = "30px Arial";
        ctx.textAlign = "center";
        ctx.fillStyle = p.color;
        ctx.fillText(textLb, p.x, p.y3);
        ctx.restore();
      };
      return p;
    }
 

  function renderEffect(anim) {
        for (var i = 0; i < anim.animatables.length; i++) {
            anim.animatables[i].target.draw();
        }
    }
  var render = anime({
        duration: Infinity,
        update: function() {
            if( !timeline.paused ){
                clearCanvas();
            }
        }
    });

  var clearCanvas = function(){
       ctx.clearRect(0, 0, canvasEl.width, canvasEl.height);
    };
//----------------------------------------
    function animateIntro() {
      var circles = createCircles();
      var rects = createRects();
      var triangles = createTriangles();
      var img = createImage();
      var text = createText();
    	
      timeline
           .add({
              targets: circles,
              easing: 'linear',
              duration: 3000,    
              sCaleX1: [3, 0, 2, 0, 1, 0, 3, 0, 2, 0, 3, 0, 2, 0, 1, 0, 1.5, 0, 2, 0], 
              angle: [0, 1200],  
              sCaleX2: [3, 1, 3, 1, 0, 2, 0, 3, 2, 0, 2.5, 1, 1.5, 1, 0, 2, 0, 0.5, 2, 0], 
              sCaleX3: [3, 1, 2, 0, 2, 0, 1, 2, 1, 0, 2, 1, 2, 0, 2, 1.5, 1, 0.75, 1, 0], 
              sCaleX4: [3, 2, 0, 2, 0, 3, 1, 0, 3, 0, 2.5, 2, 0, 1.5, 0, 3, 1, 0, 0.5, 0], 
              update: renderEffect
           })
           .add({
              targets: circles,
              easing: 'easeOutCubic',
              duration: 2000,    
              x1: [-50, 150],
              y1: [800, 600],
              x2: [-50, 70],
              x3: [1400, 1150],
              y3: [800, 600],
              x4: [1000, 800],
              y4: [-50, 100],
              scaleY: [3, 2.5],
              update: renderEffect,
              offset: 0,
              complete: function() {
                  setTimeout(function(){
                    clearInterval(vibroInterval);}, 500);
              }
           })
           .add({
              targets: circles,
              easing: 'easeInCubic',
              duration: 700,    
              x1: [150, 640],
              y1: [600, 370],
              x2: [70, 640],
              x3: [1150, 640],
              y3: [600, 370],
              x4: [800, 640],
              y4: [100, 370],
              scaleY: [2.5, 0],
              update: renderEffect,
              offset: 2000
           })
           .add({
              targets: circles,
              easing: 'easeOutQuart',
              duration: 1000,    
              x1: [640, 400],
              y1: [370, 300],
              x2: [640, 800],
              x3: [640, 840],
              y3: [370, 250],
              x4: [640, 400],
              y4: [370, 500],
              scaleY: [1, 0, 0],
              sCaleX1: [1, 0, 0],
              sCaleX2: [1, 0, 0],
              sCaleX3: [1, 0, 0],
              sCaleX4: [1, 0, 0],
              update: renderEffect,
              offset: 2700
           })
           .add({
              targets: rects,
              easing: 'linear',
              duration: 3000,    
              sCaleX1: [3, 0, 2, 0, 1, 0, 3, 0, 2, 0, 3, 0, 2, 0, 1, 0, 1.5, 0, 2, 0], 
              angle: [0, 1200],  
              sCaleX2: [3, 1, 3, 1, 0, 2, 0, 3, 2, 0, 2.5, 1, 1.5, 1, 0, 2, 0, 0.5, 2, 0], 
              sCaleX3: [3, 1, 2, 0, 2, 0, 1, 2, 1, 0, 2, 1, 2, 0, 2, 1.5, 1, 0.75, 1, 0], 
              sCaleX4: [3, 2, 0, 2, 0, 3, 1, 0, 3, 0, 2.5, 2, 0, 1.5, 0, 3, 1, 0, 0.5, 0],  
              sCaleX5: [3, 1, 2, 0, 2, 0, 1, 2, 1, 0, 2, 1, 2, 0, 2, 1.5, 1, 0.75, 1, 0],     
              update: renderEffect,
              offset: 0
           })
           .add({
              targets: rects,
              easing: 'easeOutCubic',
              duration: 2000,    
              xMove1: [30, 20],
              yMove1: [550, 250],
              xMove2: [800, 500],
              yMove2: [-500, -300],
              xMove3: [-800, -400],
              yMove3: [-500, -270],
              xMove4: [-800, -100],
              xMove5: [800, 200],
              yMove5: [500, 200],
              scaleY: [3, 2.5],
              update: renderEffect,
              offset: 0
           })
           .add({
              targets: rects,
              easing: 'easeInCubic',
              duration: 700,    
              xMove1: [20, 0],
              yMove1: [250, 0],
              xMove2: [500, 0],
              yMove2: [-300, 0],
              xMove3: [-400, 0],
              yMove3: [-270, 0],
              xMove4: [-100, 0],
              xMove5: [200, 0],
              yMove5: [200, 0],
              scaleY: [2.5, 0],
              update: renderEffect,
              offset: 2000
           })
           .add({
              targets: rects,
              easing: 'easeOutQuart',
              duration: 1000,    
              xMove1: [0, -40],
              yMove1: [0, -200],
              xMove2: [0, 300],
              yMove2: [0, 50],
              xMove3: [0, 200],
              yMove3: [0, 200],
              xMove4: [0, -300],
              xMove5: [0, -200],
              yMove5: [0 - 100],
              scaleY: [1, 0, 0],
              sCaleX1: [1, 0, 0],
              sCaleX2: [1, 0, 0],
              sCaleX3: [1, 0, 0],
              sCaleX4: [1, 0, 0],
              sCaleX5: [1, 0, 0],
              update: renderEffect,
              offset: 2700
           })
           .add({
              targets: triangles,
              easing: 'linear',
              duration: 3000,    
              sCaleX1: [3, 0, 2, 0, 1, 0, 3, 0, 2, 0, 3, 0, 2, 0, 1, 0, 1.5, 0, 2, 0], 
              angle: [0, 600],  
              sCaleX2: [3, 1, 3, 1, 0, 2, 0, 3, 2, 0, 2.5, 1, 1.5, 1, 0, 2, 0, 0.5, 2, 0], 
              sCaleX3: [3, 1, 2, 0, 2, 0, 1, 2, 1, 0, 2, 1, 2, 0, 2, 1.5, 1, 0.75, 1, 0], 
              sCaleX4: [3, 2, 0, 2, 0, 3, 1, 0, 3, 0, 2.5, 2, 0, 1.5, 0, 3, 1, 0, 0.5, 0],       
              update: renderEffect,
              offset: 0
           })
           .add({
              targets: triangles,
              easing: 'easeOutCubic',
              duration: 2000,    
              xMove1: [-800, -150],
              yMove1: [-500, -220],
              xMove2: [800, 200],
              yMove2: [300, 100],
              xMove3: [800, 500],
              yMove3: [70, 30],
              xMove4: [-800, -200],
              yMove4: [400, 150],
              scaleY: [3, 2.5],
              update: renderEffect,
              offset: 0
           })
           .add({
              targets: triangles,
              easing: 'easeInCubic',
              duration: 700,    
              xMove1: [-150, 0],
              yMove1: [-220, 0],
              xMove2: [200, 0],
              yMove2: [100, 0],
              xMove3: [500, 0],
              yMove3: [30, 0],
              xMove4: [-200, 0],
              yMove4: [150, 0],
              scaleY: [2.5, 0],
              update: renderEffect,
              offset: 2000
           })
           .add({
              targets: img,
              easing: 'easeOutCubic',
              duration: 500,    
              scale: [0, 1],
              angle: [-45, 0],
              update: renderEffect,
              offset: 2700
           })
           .add({
              targets: text,
              easing: 'easeOutElastic',
              duration: 1000,  
              y1: [{value: 800}, 
                   {value: 540, delay: 0}],
              y2: [{value: 800}, 
                   {value: 540, delay: 500}],
              y3: [{value: 800}, 
                   {value: 540, delay: 1000}],
              update: renderEffect,
              offset: 2700,
              complete: function(anim) {
              mainOptions.timer = setTimeout(function(){
                    clearCanvas();
                }, mainOptions.isRendering
                    ? mainOptions.delay * 3//delay x3 - for better rendering
                    : mainOptions.delay);
              }
           });
           
    var k = 1;       

    function vibro() {
      if (circles.xMove == 0) 
         {  
            circles.xMove = k; //10
            rects.xMove = -1 * k / 2; //-5
            triangles.xMove = -1* k; //-10
            circles.yMove = k / 2; //5
            rects.yMove = 0; //0
            triangles.yMove = -1 * k / 2; //-5
            k += 0.4;
          }
      else { 
             circles.xMove = 0;
             rects.xMove = k / 2; 
             triangles.xMove = 0;
             circles.yMove = -1 * k / 2;
             rects.yMove = k;
             triangles.yMove = k / 2;
           }
    }
       var vibroInterval =  setInterval(vibro, 50);

    }

    setCanvasSize();
    animateIntro();
//-------------------------------------------
 //Playback control
    var playbackControl = {

        getIsPaused: function(){
            return timeline.paused;
        },

        playToggle: function(){
            if( timeline.paused ){
                timeline.play();
            } else {
                timeline.pause();
            }
        },

        play: function(){
            timeline.play();
        },

        pause: function(){
            timeline.pause();
        },

        restart: function(){
            timeline.restart();
        },

        stop: function(){
            clearTimeout( mainOptions.timer );
            timeline.restart();
            timeline.pause();
        },

        seek: function( miliseconds ){
            clearTimeout( mainOptions.timer );
            if( timeline.reversed ){
                timeline.reverse();
            }
            timeline.seek( miliseconds );
            timeline.play();
        }
    };

</script>

<!-- BUTTONS -->
<div id="vba-buttons" style="display: none; position: fixed; right: 20px; top: 20px;">
    <button type="button" class="vba-btn" onclick="playbackControl.playToggle(); return false;">
        Play / Pause
    </button>
    <button type="button" class="vba-btn" onclick="playbackControl.play(); return false;">
        Play
    </button>
    <button type="button" class="vba-btn" onclick="playbackControl.pause(); return false;">
        Pause
    </button>
    <button type="button" class="vba-btn" onclick="playbackControl.stop(); return false;">
        Stop
    </button>
    <button type="button" class="vba-btn" onclick="playbackControl.seek(2500); return false;">
        Jump to 50% time
    </button>
    <button type="button" class="vba-btn" onclick="playbackControl.restart(); return false;">
        Replay
    </button>
</div>
<script>
    //To display buttons add #buttons hash to page address and reload
    if( window.location.hash.indexOf('buttons') > -1 ){
        document.getElementById('vba-buttons').style.display = 'block';
    }
</script>
<!-- /BUTTONS -->
	
</body>
</html>